# 19110136, Trần Văn Thiên
# Task 4.1: Encrypt and Decrypt Text file
## Create a text file named plain.txt with content: "My name is Thien"
<span style="color:blue">First we use the following command: "echo "My name is Thien" > plain.txt"
</span><br>
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.1.png?raw=true" alt="4.1.1" width="726"><br>
<span style="color:blue">Check the content in the txt file </span><br>
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.2.png?raw=true" alt="4.1.2" width="726"><br>

### AES-128
- AES-128-ECB

    Encrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.3.png?raw=true" alt="4.1.3" width="726"><br>

    View the encrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.4.png?raw=true" alt="4.1.4" width="726"><br>

    Decrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.5.png?raw=true" alt="4.1.5" width="726"><br>

    View the decrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.6.png?raw=true" alt="4.1.6" width="726"><br>

- AES-128-CBC

    Encrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.7.png?raw=true" alt="4.1.7" width="726"><br>

    View the encrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.8.png?raw=true" alt="4.1.8" width="726"><br>

    Decrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.9.png?raw=true" alt="4.1.9" width="726"><br>

    View the decrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.10.png?raw=true" alt="4.1.10" width="726"><br>

- AES-128-CFB

    Encrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.11.png?raw=true" alt="4.1.11" width="726"><br>

    View the encrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.12.png?raw=true" alt="4.1.12" width="726"><br>

    Decrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.13.png?raw=true" alt="4.1.13" width="726"><br>

    View the decrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.14.png?raw=true" alt="4.1.14" width="726"><br>

- AES-128-OFB

    Encrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.15.png?raw=true" alt="4.1.15" width="726"><br>

    View the encrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.16.png?raw=true" alt="4.1.16" width="726"><br>

    Decrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.17.png?raw=true" alt="4.1.17" width="726"><br>

    View the decrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.18.png?raw=true" alt="4.1.18" width="726"><br>

- AES-128-CTR

    Encrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.19.png?raw=true" alt="4.1.19" width="726"><br>

    View the encrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.20.png?raw=true" alt="4.1.20" width="726"><br>

    Decrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.21.png?raw=true" alt="4.1.21" width="726"><br>

    View the decrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.22.png?raw=true" alt="4.1.22" width="726"><br>

### AES-192

- AES-192-ECB

    Encrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.23.png?raw=true" alt="4.1.23" width="726"><br>

    View the encrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.24.png?raw=true" alt="4.1.24" width="726"><br>

    Decrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.25.png?raw=true" alt="4.1.25" width="726"><br>

    View the decrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.26.png?raw=true" alt="4.1.26" width="726"><br>

- AES-192-CBC

    Encrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.27.png?raw=true" alt="4.1.27" width="726"><br>

    View the encrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.28.png?raw=true" alt="4.1.28" width="726"><br>

    Decrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.29.png?raw=true" alt="4.1.29" width="726"><br>

    View the decrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.30.png?raw=true" alt="4.1.30" width="726"><br>

- AES-192-CFB

    Encrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.31.png?raw=true" alt="4.1.31" width="726"><br>

    View the encrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.32.png?raw=true" alt="4.1.32" width="726"><br>

    Decrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.33.png?raw=true" alt="4.1.33" width="726"><br>

    View the decrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.34.png?raw=true" alt="4.1.34" width="726"><br>

- AES-192-OFB

    Encrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.35.png?raw=true" alt="4.1.35" width="726"><br>

    View the encrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.36.png?raw=true" alt="4.1.36" width="726"><br>

    Decrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.37.png?raw=true" alt="4.1.37" width="726"><br>

    View the decrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.38.png?raw=true" alt="4.1.38" width="726"><br>

- AES-192-CTR

    Encrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.39.png?raw=true" alt="4.1.39" width="726"><br>

    View the encrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.40.png?raw=true" alt="4.1.40" width="726"><br>

    Decrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.41.png?raw=true" alt="4.1.41" width="726"><br>

    View the decrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.42.png?raw=true" alt="4.1.42" width="726"><br>

### AES-256
- AES-256-ECB

    Encrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.43.png?raw=true" alt="4.1.43" width="726"><br>

    View the encrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.44.png?raw=true" alt="4.1.44" width="726"><br>

    Decrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.45.png?raw=true" alt="4.1.45" width="726"><br>

    View the decrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.46.png?raw=true" alt="4.1.46" width="726"><br>

- AES-256-CBC

    Encrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.47.png?raw=true" alt="4.1.47" width="726"><br>

    View the encrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.48.png?raw=true" alt="4.1.48" width="726"><br>

    Decrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.49.png?raw=true" alt="4.1.49" width="726"><br>

    View the decrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.50.png?raw=true" alt="4.1.50" width="726"><br>

- AES-256-CFB

    Encrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.51.png?raw=true" alt="4.1.51" width="726"><br>

    View the encrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.52.png?raw=true" alt="4.1.52" width="726"><br>

    Decrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.53.png?raw=true" alt="4.1.53" width="726"><br>

    View the decrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.54.png?raw=true" alt="4.1.54" width="726"><br>

- AES-256-OFB

    Encrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.55.png?raw=true" alt="4.1.55" width="726"><br>

    View the encrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.56.png?raw=true" alt="4.1.56" width="726"><br>

    Decrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.57.png?raw=true" alt="4.1.57" width="726"><br>

    View the decrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.58.png?raw=true" alt="4.1.58" width="726"><br>

- AES-256-CTR

    Encrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.59.png?raw=true" alt="4.1.59" width="726"><br>

    View the encrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.60.png?raw=true" alt="4.1.60" width="726"><br>

    Decrypt

<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.61.png?raw=true" alt="4.1.61" width="726"><br>

    View the decrypted file with xxd
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.62.png?raw=true" alt="4.1.62" width="726"><br>


# Task 4.2 Encryption Mode – ECB vs. CBC
## Step 1: Separate the header and body of the image file with 2 commands: 
- *"dd if=origin.bmp of=header.bin bs=1* count=54"
- *"dd if=origin.bmp of=body.bin bs=1 skip=54"*
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.62.png?raw=true" alt="4.2.1" width="726"><br>

## Step 2: Encrypt the body of the image file using ECB with command and KEY="00112233445566778899AABBCCDDEEFF00112233445566778899AABBCCDDEEFF"
- *openssl enc -aes-256-ecb -nosalt -in body.bin -out ecb_encrypted_body.bin -K 00112233445566778899AABBCCDDEEFF00112233445566778899AABBCCDDEEFF*
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.62.png?raw=true" alt="4.2.2" width="726"><br>

## Step 3: Pair the encrypted header and body (ECB) with the command:
- *cat header.bin ecb_encrypted_body.bin > ecb_encrypted.bmp*
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.62.png?raw=true" alt="4.2.3" width="726"><br>

## Step 4: Encode the body of the image file using CBC with command and KEY="00112233445566778899AABBCCDDEEFF00112233445566778899AABBCCDDEEFF" IV="0102030405060708090A0B0C0D0E0F10"
- *openssl enc -aes-256-cbc -nosalt -in body.bin -out cbc_encrypted_body.bin -K 00112233445566778899AABBCCDDEEFF00112233445566778899AABBCCDDEEFF -iv 0102030405060708090A0B0C0D0E0F10*
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.62.png?raw=true" alt="4.2.4" width="726"><br>

## Step 5: Encrypted header and body concatenation (CBC) with command:
- *cat header.bin cbc_encrypted_body.bin > cbc_encrypted.bmp*
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.62.png?raw=true" alt="4.2.5" width="726"><br>

## Step 6: View and compare encrypted images
- *origin.bmp*
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.62.png?raw=true" alt="4.2.6" width="726"><br>

- *origin.bmp*
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.62.png?raw=true" alt="4.2.7" width="726"><br>

- *origin.bmp*
<img src="https://github.com/TranVanThien111/Encrypting-Large-Message/blob/main/images/4.1.62.png?raw=true" alt="4.2.8" width="726"><br>

## Step 7: Observe and explain
- ECB Mode: You will see that images encoded with ECB can still recognize some details of the original image. That's because ECB mode encrypts each block independently, resulting in identical blocks of the original image retaining their original form in the encrypted image. This makes ECB insecure for image encryption.
- CBC Mode: Images encoded with CBC will look like random noise and details of the original image cannot be recognized. CBC uses the results of each previous block to encrypt the next block, so each encryption block is unique even if the original data blocks are the same. This makes CBC more secure than ECB for image encryption.

